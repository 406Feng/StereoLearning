import numpy as np
import cv2

#双目相机参数
class stereoCameral(object):
    def __init__(self):

        #左相机内参数
        self.cam_matrix_left = np.array([[1461.1513031038830, 0, 1232.2030217422700], [0, 1462.0162829639710, 1051.5949072684830], [0., 0., 1.]])
        #右相机内参数
        self.cam_matrix_right = np.array([[1458.0726672545320, 0, 1219.1283087366389], [0, 1457.2323244339600, 1064.3164359064269], [0., 0., 1.]])

        #左右相机畸变系数:[k1, k2, p1, p2, k3]
        self.distortion_l = np.array([[-0.031008855656562018, 0.041369880124249303, 0.0012151529108663690, -0.00013003508519464829, 0.0000]])
        self.distortion_r = np.array([[-0.036061871625371798, 0.045165924275755213, 0.00025411173263096090, 0.0000]])

        #旋转矩阵
        om = np.array([-0.00320, -0.00163, -0.00069])
        # self.R = cv2.Rodrigues(om)[0]  # 使用Rodrigues变换将om变换为R
        self.R = np.matrix([[0.97094415136439138, 0.17431094685885851, -0.16396081463706499],
                             [-0.17958208456411487, 0.98358232659259237, -0.017778687193105193],
                             [0.15816993973220353, 0.046706537228437067, 0.98630663058971668]])
        #平移矩阵
        self.T = np.array([-0.98149154231748914, 0.12824042931026494, -0.14222779141066466])